<div class="login-container">
  <div class="login-card">
    <h1>Welcome</h1>
    
    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
      <div class="form-field">
        <input 
          type="email" 
          formControlName="username" 
          placeholder="Email Address"
          [class.error]="f['username'].errors && f['username'].touched"
        >
        <div class="error-message" *ngIf="f['username'].errors?.['required'] && f['username'].touched">
          Email is required
        </div>
        <div class="error-message" *ngIf="f['username'].errors?.['email'] && f['username'].touched">
          Please enter a valid email
        </div>
      </div>

      <div class="form-field">
        <input 
          [type]="hidePassword ? 'password' : 'text'" 
          formControlName="password" 
          placeholder="Password"
          [class.error]="f['password'].errors && f['password'].touched"
        >
        <button type="button" class="password-toggle" (click)="hidePassword = !hidePassword">
          <mat-icon>{{hidePassword ? 'visibility_off' : 'visibility'}}</mat-icon>
        </button>
        <div class="error-message" *ngIf="f['password'].errors?.['required'] && f['password'].touched">
          Password is required
        </div>
      </div>

      <a routerLink="/forgot-password" class="forgot-password">Forgot Password</a>

      <button type="submit" class="login-button" [disabled]="loading || loginForm.invalid">
        <mat-spinner diameter="20" *ngIf="loading"></mat-spinner>
        <span *ngIf="!loading">Login</span>
      </button>

      <div class="signup-prompt">
        Don't have an account? <a routerLink="/signup">SignUp</a>
      </div>

      <div class="error-message main-error" *ngIf="error">
        {{ error }}
      </div>
    </form>
  </div>
</div> 