<div class="signup-container">
  <div class="signup-card">
    <h1>Sign up</h1>
    <p class="subtitle">Sign up to continue</p>

    <form [formGroup]="signupForm" (ngSubmit)="onSubmit()">
      <div class="form-field">
        <input 
          type="text" 
          formControlName="name" 
          placeholder="Name"
          [class.error]="f['name'].errors && f['name'].touched"
        >
        <div class="error-message" *ngIf="f['name'].errors?.['required'] && f['name'].touched">
          Name is required
        </div>
      </div>
      <div class="form-field">
        <input 
          type="text" 
          formControlName="lastName" 
          placeholder="Last Name"
          [class.error]="f['lastName'].errors && f['lastName'].touched"
        >
        <div class="error-message" *ngIf="f['lastName'].errors?.['required'] && f['lastName'].touched">
          Last Name is required
        </div>
      </div>

      <div class="form-field">
        <input 
          type="email" 
          formControlName="email" 
          placeholder="Email"
          [class.error]="f['email'].errors && f['email'].touched"
        >
        <div class="error-message" *ngIf="f['email'].errors?.['required'] && f['email'].touched">
          Email is required
        </div>
        <div class="error-message" *ngIf="f['email'].errors?.['email'] && f['email'].touched">
          Please enter a valid email
        </div>
      </div>

      <div class="form-field">
        <input 
          [type]="hidePassword ? 'password' : 'text'" 
          formControlName="password" 
          placeholder="Password"
          [class.error]="f['password'].errors && f['password'].touched"
        >
        <button type="button" class="password-toggle" (click)="hidePassword = !hidePassword">
          <mat-icon>{{hidePassword ? 'visibility_off' : 'visibility'}}</mat-icon>
        </button>
        <div class="error-message" *ngIf="f['password'].errors?.['required'] && f['password'].touched">
          Password is required
        </div>
        <div class="error-message" *ngIf="f['password'].errors?.['minlength'] && f['password'].touched">
          Password must be at least 6 characters
        </div>
      </div>

      <button type="submit" class="signup-button" [disabled]="loading || signupForm.invalid">
        <mat-spinner diameter="20" *ngIf="loading"></mat-spinner>
        <span *ngIf="!loading">Sign up</span>
      </button>

      <div class="remember-me">
        <mat-checkbox formControlName="rememberMe" color="primary">Remember me</mat-checkbox>
      </div>

      

      <div class="login-prompt">
        Already have an account? <a routerLink="/login">Sign in</a>
      </div>

      <div class="error-message main-error" *ngIf="error">
        {{ error }}
      </div>
    </form>
  </div>
</div>
